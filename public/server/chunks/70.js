exports.id=70,exports.ids=[70],exports.modules={9979:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{Bm:()=>m,g8:()=>h,hd:()=>o,jr:()=>u});var r=s(3010),i=s(3756),l=s(9648),d=s(6689),c=e([l]);l=(c.then?(await c)():c)[0];let n="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjYzc3ZjMzNmY4NTlkYzM0ZGRiOWRhYzFmODc4ODJiMSIsIm5iZiI6MTcyOTA1MzU5My4yMzI1NjIsInN1YiI6IjY1NjdkYmE3MTI3Nzc4MDBhZDVmNTljNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.9vUNrlSEbJeeEHHEl9R6ylxjO_5fiG0_w25w7ZgNX3M",o=(e,t,s=1)=>{let[a,c]=(0,d.useState)(null),[o,h]=(0,d.useState)(i.r.Idle),[m,u]=(0,d.useState)(null);return(0,d.useEffect)(()=>{(async()=>{h(i.r.Loading);try{let a=await l.default.get(r.P.FAVORITE_MOVIES(e),{headers:{Authorization:`Bearer ${n}`},params:{session_id:t,page:s}});c(a.data),h(i.r.Success)}catch(e){u(e),h(i.r.Error)}})()},[e,t,s]),[a,o,m]},h=async(e,t,s,a)=>{let d=null,c=i.r.Idle,o=null;try{c=i.r.Loading,d=(await l.default.post(r.P.ADD_FAVORITE(e),{media_type:"movie",media_id:s,favorite:a},{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json;charset=utf-8"},params:{session_id:t}})).data,c=i.r.Success}catch(e){o=e,c=i.r.Error}return[d,c,o]},m=e=>{let[t,s]=(0,d.useState)(null),[a,c]=(0,d.useState)(i.r.Idle),[o,h]=(0,d.useState)(null);return(0,d.useEffect)(()=>{(async()=>{c(i.r.Loading);try{let t=await l.default.get(r.P.GET_MOVIE_DETAIL(e),{headers:{Authorization:`Bearer ${n}`}});s(t.data),c(i.r.Success)}catch(e){h(e),c(i.r.Error)}})()},[e]),[t,a,o]},u=(e,t,s)=>{let[a,r,l]=o(e,t),[c,n]=(0,d.useState)(!1),[h,m]=(0,d.useState)(i.r.Idle),[u,x]=(0,d.useState)(null);return(0,d.useEffect)(()=>{(()=>{if(r===i.r.Success&&a){let e=a.results.some(e=>e.id===s);n(e),m(i.r.Success)}else l&&(x(l),m(i.r.Error))})()},[a,r,l,s]),[c,h,u]};a()}catch(e){a(e)}})},8396:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>c});var r=s(997),i=s(9154),l=s(6689),d=e([i]);function c({message:e,type:t}){let[s,a]=(0,l.useState)(!0);return(0,r.jsxs)("div",{className:`p-4 flex items-center mt-2 gap-2 justify-between text-sm ${"success"===t?"bg-green-200 text-green-800":"bg-red-200 text-red-800"} rounded-lg ${s?"block":"hidden"}`,children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:["success"===t?r.jsx(i.CheckCircleIcon,{className:"w-4 h-4"}):r.jsx(i.XCircleIcon,{className:"w-4 h-4"}),r.jsx("span",{children:e})]}),r.jsx("button",{className:"p-1",onClick:()=>a(!1),children:r.jsx(i.XMarkIcon,{className:"w-4 h-4"})})]})}i=(d.then?(await d)():d)[0],a()}catch(e){a(e)}})},8577:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(997);function r({isInDetail:e=!1}){return a.jsx("div",{className:`animate-pulse rounded-md ${e?"w-56 h-80":"w-40 h-72"}`,children:a.jsx("div",{className:"w-full h-full bg-gray-200 dark:bg-sky-700 rounded-md"})})}},8234:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var a=s(997),r=s(6689);let i=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}),l=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))});function d({isFavorite:e,onToggleFavorite:t}){return a.jsx("button",{className:"bg-white/20 border border-red-500 p-3 rounded-full flex items-center gap-2 w-fit text-red-500 hover:bg-red-500/25",onClick:t,children:e?a.jsx(l,{className:"w-6 h-6"}):a.jsx(i,{className:"w-6 h-6"})})}},3010:(e,t,s)=>{"use strict";s.d(t,{P:()=>a});let a={NOW_PLAYING:"https://api.themoviedb.org/3/movie/now_playing",POPULAR:"https://api.themoviedb.org/3/movie/popular",ADD_FAVORITE:e=>`https://api.themoviedb.org/3/account/${e}/favorite`,FAVORITE_MOVIES:e=>`https://api.themoviedb.org/3/account/${e}/favorite/movies`,DELETE_FAVORITE:(e,t)=>`https://api.themoviedb.org/3/account/${e}/favorite/${t}`,CREATE_GUEST_SESSION:"https://api.themoviedb.org/3/authentication/guest_session/new",CREATE_REQUEST_TOKEN:"https://api.themoviedb.org/3/authentication/token/new",VALIDATE_REQUEST_TOKEN:"https://api.themoviedb.org/3/authentication/token/validate_with_login",AUTHENTICATE_USER:e=>`https://www.themoviedb.org/authenticate/${e}`,CREATE_SESSION:"https://api.themoviedb.org/3/authentication/session/new",DELETE_SESSION:"https://api.themoviedb.org/3/authentication/session",GET_ACCOUNT:"https://api.themoviedb.org/3/account",GET_MOVIE_DETAIL:e=>`https://api.themoviedb.org/3/movie/${e}`}},8014:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{ZP:()=>n});var r=s(3258),i=e([r]);r=(i.then?(await i)():i)[0];let l=(0,r.createSlice)({name:"favorite",initialState:{id:0},reducers:{addToFavorites:(e,t)=>{e.id=t.payload.id},removeFromFavorites:e=>{e.id=0}}}),{addToFavorites:d,removeFromFavorites:c}=l.actions,n=l.reducer;a()}catch(e){a(e)}})},3080:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{h:()=>d});var r=s(3258),i=s(8014),l=e([r,i]);[r,i]=l.then?(await l)():l;let d=(0,r.configureStore)({reducer:{favorite:i.ZP}});a()}catch(e){a(e)}})},3691:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>c});var r=s(997),i=s(3080);s(6764);var l=s(3291),d=e([i,l]);function c({Component:e,pageProps:t}){return r.jsx(l.Provider,{store:i.h,children:r.jsx("main",{children:r.jsx(e,{...t})})})}[i,l]=d.then?(await d)():d,a()}catch(e){a(e)}})},5635:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>p});var r=s(997),i=s(9979),l=s(8577),d=s(8234),c=s(3756),n=s(6593),o=s(5675),h=s.n(o),m=s(9915),u=s(6689),x=s(8396),g=e([i,m,x]);function p({id:e,setTitle:t}){let[s,a,o]=(0,i.Bm)(e),[g,p]=(0,u.useState)(!1),f=m.default.get("tmdb_account_id"),v=m.default.get("tmdb_session_id"),j=v?(0,n.pe)(v):"",[b,y]=(0,i.jr)(f,j,e),N=async()=>{let[,t]=await (0,i.g8)(f,j,e,!g);t===c.r.Success&&p(!g)};return o?(0,r.jsxs)("div",{className:"flex flex-col gap-4 items-center justify-center mt-16",children:[r.jsx("span",{className:"text-sky-950 dark:text-white",children:o.message}),r.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-md text-sm font-bold hover:bg-blue-600",onClick:()=>{f&&v&&window.location.reload()},children:"Reload"})]}):a===c.r.Loading?(0,r.jsxs)("div",{className:"grid grid-cols-1 px-4 gap-4 md:px-16 py-8 bg-white dark:bg-sky-950 dark:text-white md:grid-cols-[1fr_3fr]",children:[r.jsx("div",{className:"flex justify-center items-center",children:r.jsx(l.Z,{isInDetail:!0})}),(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[r.jsx("div",{className:"h-10 w-64 bg-gray-300 dark:bg-sky-700 rounded-md animate-pulse"}),r.jsx("div",{className:"h-4 w-40 bg-gray-300 dark:bg-sky-700 rounded-md animate-pulse"})]}),r.jsx("div",{className:"h-12 w-12 bg-gray-300 dark:bg-sky-700 rounded-full animate-pulse"}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[r.jsx("div",{className:"h-6 w-40 bg-gray-300 dark:bg-sky-700 rounded-md animate-pulse"}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[r.jsx("div",{className:"h-4 w-11/12 bg-gray-300 dark:bg-sky-700 rounded-md animate-pulse"}),r.jsx("div",{className:"h-4 w-10/12 bg-gray-300 dark:bg-sky-700 rounded-md animate-pulse"})]})]})]})]}):a===c.r.Success&&s?(t(`${s.title} (${s.release_date?.split("-")[0]})`),(0,r.jsxs)("div",{className:"grid grid-cols-1 px-4 gap-4 md:px-16 py-8 bg-white dark:bg-sky-950 dark:text-white md:grid-cols-[1fr_3fr]",children:[r.jsx("div",{className:"flex justify-center items-start",children:r.jsx(h(),{src:`https://media.themoviedb.org/t/p/w220_and_h330_face/${s.poster_path}`,alt:s.title??"",width:220,height:330,className:"rounded-lg shadow-md"})}),(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[!f&&!v&&r.jsx(x.Z,{message:"Please login to add this movie to your favorites",type:"error"}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsxs)("h1",{className:"text-2xl",children:[r.jsx("strong",{children:s.title})," (",s.release_date?.split("-")[0],")"]}),(0,r.jsxs)("span",{className:"text-sm",children:[(0,n.p6)(s.release_date??"")," - ",s.runtime,"m"]})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsxs)("div",{className:`rounded-md h-12 px-4 text-white bg-sky-950 dark:bg-sky-900 flex items-center justify-center gap-1 border-2 ${s.vote_average&&s.vote_average>70?"border-green-500":"border-yellow-500"}`,children:[(0,r.jsxs)("strong",{children:[Math.round((s.vote_average??0)*10),"%"]}),r.jsx("span",{className:"text-xs",children:"User Score"})]}),f&&v&&r.jsx(d.Z,{isFavorite:g,onToggleFavorite:N})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[r.jsx("h2",{className:"text-lg font-bold",children:"Overview"}),r.jsx("p",{className:"text-sm",children:s.overview})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[r.jsx("h2",{className:"text-lg font-bold",children:"Genres"}),r.jsx("div",{className:"flex gap-2",children:s.genres?.map(e=>r.jsx("span",{className:"text-sm bg-sky-950 dark:bg-sky-900 px-2 py-1 rounded-md text-white",children:e.name},e.id))})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[r.jsx("h2",{className:"text-lg font-bold",children:"Production Companies"}),r.jsx("div",{className:"flex gap-2",children:s.production_companies?.map(e=>r.jsx("span",{className:"text-sm dark:text-white",children:e.name},e.id))})]})]})]})):void 0}[i,m,x]=g.then?(await g)():g,a()}catch(e){a(e)}})},3756:(e,t,s)=>{"use strict";var a;s.d(t,{r:()=>a}),function(e){e[e.Idle=0]="Idle",e[e.Loading=1]="Loading",e[e.Success=2]="Success",e[e.Error=3]="Error"}(a||(a={}))},6593:(e,t,s)=>{"use strict";s.d(t,{HI:()=>r,p6:()=>a,pe:()=>i});let a=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),r=e=>Buffer.from(e).toString("base64"),i=e=>Buffer.from(e,"base64").toString("utf-8")},6764:()=>{}};