exports.id=913,exports.ids=[913],exports.modules={2772:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{o:()=>n});var r=s(6689),i=s(3756),l=s(9648),d=s(3010),c=e([l]);l=(c.then?(await c)():c)[0];let n=e=>{let[t,s]=(0,r.useState)(null),[a,c]=(0,r.useState)(i.r.Idle),[n,o]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let t=async()=>{c(i.r.Loading);try{let t=await l.default.get(d.P.GET_ACCOUNT,{params:{session_id:e},headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjYzc3ZjMzNmY4NTlkYzM0ZGRiOWRhYzFmODc4ODJiMSIsIm5iZiI6MTcyOTA1MzU5My4yMzI1NjIsInN1YiI6IjY1NjdkYmE3MTI3Nzc4MDBhZDVmNTljNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.9vUNrlSEbJeeEHHEl9R6ylxjO_5fiG0_w25w7ZgNX3M","Content-Type":"application/json;charset=utf-8"}});s(t.data),c(i.r.Success)}catch(e){o(e),c(i.r.Error)}};e&&t()},[e]),[t,a,n]};a()}catch(e){a(e)}})},9979:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{Bm:()=>u,g8:()=>h,hd:()=>o,jr:()=>m});var r=s(3010),i=s(3756),l=s(9648),d=s(6689),c=e([l]);l=(c.then?(await c)():c)[0];let n="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjYzc3ZjMzNmY4NTlkYzM0ZGRiOWRhYzFmODc4ODJiMSIsIm5iZiI6MTcyOTA1MzU5My4yMzI1NjIsInN1YiI6IjY1NjdkYmE3MTI3Nzc4MDBhZDVmNTljNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.9vUNrlSEbJeeEHHEl9R6ylxjO_5fiG0_w25w7ZgNX3M",o=(e,t,s=1)=>{let[a,c]=(0,d.useState)(null),[o,h]=(0,d.useState)(i.r.Idle),[u,m]=(0,d.useState)(null);return(0,d.useEffect)(()=>{(async()=>{h(i.r.Loading);try{let a=await l.default.get(r.P.FAVORITE_MOVIES(e),{headers:{Authorization:`Bearer ${n}`},params:{session_id:t,page:s}});c(a.data),h(i.r.Success)}catch(e){m(e),h(i.r.Error)}})()},[e,t,s]),[a,o,u]},h=async(e,t,s,a)=>{let d=null,c=i.r.Idle,o=null;try{c=i.r.Loading,d=(await l.default.post(r.P.ADD_FAVORITE(e),{media_type:"movie",media_id:s,favorite:a},{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json;charset=utf-8"},params:{session_id:t}})).data,c=i.r.Success}catch(e){o=e,c=i.r.Error}return[d,c,o]},u=e=>{let[t,s]=(0,d.useState)(null),[a,c]=(0,d.useState)(i.r.Idle),[o,h]=(0,d.useState)(null);return(0,d.useEffect)(()=>{(async()=>{c(i.r.Loading);try{let t=await l.default.get(r.P.GET_MOVIE_DETAIL(e),{headers:{Authorization:`Bearer ${n}`}});s(t.data),c(i.r.Success)}catch(e){h(e),c(i.r.Error)}})()},[e]),[t,a,o]},m=(e,t,s)=>{let[a,r,l]=o(e,t),[c,n]=(0,d.useState)(!1),[h,u]=(0,d.useState)(i.r.Idle),[m,x]=(0,d.useState)(null);return(0,d.useEffect)(()=>{(()=>{if(r===i.r.Success&&a){let e=a.results.some(e=>e.id===s);n(e),u(i.r.Success)}else l&&(x(l),u(i.r.Error))})()},[a,r,l,s]),[c,h,m]};a()}catch(e){a(e)}})},1297:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(997),r=s(6593),i=s(5675),l=s.n(i),d=s(1664),c=s.n(d);function n({movie:e}){return(0,a.jsxs)(c(),{href:`/movie/${e.id}`,className:"flex-none w-40 flex flex-col justify-between hover:scale-105 transition-all duration-300",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[a.jsx(l(),{src:`https://media.themoviedb.org/t/p/w220_and_h330_face/${e.poster_path}`,alt:"movie",height:330,width:220,className:"object-cover rounded-lg shadow-sm"}),a.jsx("h3",{className:"font-bold text-sky-950 dark:text-white text-base mx-2 mt-2",children:e.title}),a.jsx("p",{className:"max-w-sm text-gray-700 dark:text-sky-200 text-xs mx-2 mb-2",children:e.release_date?(0,r.p6)(e.release_date):""})]}),(0,a.jsxs)("p",{className:"flex max-w-sm text-gray-700 dark:text-sky-200 text-xs mx-2 mb-2 gap-1",children:[(0,a.jsxs)("strong",{children:[Math.round(10*e.vote_average),"%"]}),a.jsx("span",{className:"text-xs",children:"User Score"})]})]})}},8577:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(997);function r({isInDetail:e=!1}){return a.jsx("div",{className:`animate-pulse rounded-md ${e?"w-56 h-80":"w-40 h-72"}`,children:a.jsx("div",{className:"w-full h-full bg-gray-200 dark:bg-sky-700 rounded-md"})})}},9050:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>o});var r=s(997),i=s(1297),l=s(8577),d=s(3756),c=s(9154),n=e([c]);function o({data:e,status:t,error:s,isLoadMoreNeeded:a=!1,onLoadMore:n}){return t===d.r.Error?(0,r.jsxs)("div",{children:["Error: ",s?.message]}):(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2",children:t===d.r.Success&&e.results.length>0?e.results.map(e=>r.jsx(i.Z,{movie:e},e.id)):r.jsx("div",{children:"No movies found"})}),t===d.r.Loading&&(0,r.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2",children:[r.jsx(l.Z,{isInDetail:!1}),r.jsx(l.Z,{isInDetail:!1}),r.jsx(l.Z,{isInDetail:!1}),r.jsx(l.Z,{isInDetail:!1}),r.jsx(l.Z,{isInDetail:!1}),r.jsx(l.Z,{isInDetail:!1})]}),a&&e.results.length>0&&(0,r.jsxs)("button",{className:"w-full bg-sky-800 text-white px-4 rounded-md flex items-center justify-center gap-2 py-4 hover:bg-sky-900 transition-all duration-300 disabled:bg-sky-900 disabled:cursor-not-allowed",onClick:n,disabled:t===d.r.Loading,children:[r.jsx(c.ArrowPathIcon,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Load More"})]})]})}c=(n.then?(await n)():n)[0],a()}catch(e){a(e)}})},3010:(e,t,s)=>{"use strict";s.d(t,{P:()=>a});let a={NOW_PLAYING:"https://api.themoviedb.org/3/movie/now_playing",POPULAR:"https://api.themoviedb.org/3/movie/popular",ADD_FAVORITE:e=>`https://api.themoviedb.org/3/account/${e}/favorite`,FAVORITE_MOVIES:e=>`https://api.themoviedb.org/3/account/${e}/favorite/movies`,DELETE_FAVORITE:(e,t)=>`https://api.themoviedb.org/3/account/${e}/favorite/${t}`,CREATE_GUEST_SESSION:"https://api.themoviedb.org/3/authentication/guest_session/new",CREATE_REQUEST_TOKEN:"https://api.themoviedb.org/3/authentication/token/new",VALIDATE_REQUEST_TOKEN:"https://api.themoviedb.org/3/authentication/token/validate_with_login",AUTHENTICATE_USER:e=>`https://www.themoviedb.org/authenticate/${e}`,CREATE_SESSION:"https://api.themoviedb.org/3/authentication/session/new",DELETE_SESSION:"https://api.themoviedb.org/3/authentication/session",GET_ACCOUNT:"https://api.themoviedb.org/3/account",GET_MOVIE_DETAIL:e=>`https://api.themoviedb.org/3/movie/${e}`}},8014:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{ZP:()=>n});var r=s(3258),i=e([r]);r=(i.then?(await i)():i)[0];let l=(0,r.createSlice)({name:"favorite",initialState:{id:0},reducers:{addToFavorites:(e,t)=>{e.id=t.payload.id},removeFromFavorites:e=>{e.id=0}}}),{addToFavorites:d,removeFromFavorites:c}=l.actions,n=l.reducer;a()}catch(e){a(e)}})},3080:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{h:()=>d});var r=s(3258),i=s(8014),l=e([r,i]);[r,i]=l.then?(await l)():l;let d=(0,r.configureStore)({reducer:{favorite:i.ZP}});a()}catch(e){a(e)}})},3691:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>c});var r=s(997),i=s(3080);s(6764);var l=s(3291),d=e([i,l]);function c({Component:e,pageProps:t}){return r.jsx(l.Provider,{store:i.h,children:r.jsx("main",{children:r.jsx(e,{...t})})})}[i,l]=d.then?(await d)():d,a()}catch(e){a(e)}})},654:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>m});var r=s(997),i=s(2772),l=s(9979),d=s(8577),c=s(9050),n=s(3756),o=s(5675),h=s.n(o),u=e([i,l,c]);function m({accountId:e,sessionId:t}){let[s,a,o]=(0,i.o)(t),[u,m,x]=(0,l.hd)(e,t);return(0,r.jsxs)("div",{className:"w-full flex flex-col",children:[(0,r.jsxs)("div",{className:"grid grid-cols-[1fr_4fr] gap-4 bg-sky-100 px-4 md:px-16 py-8 dark:bg-sky-900 dark:text-white",children:[a===n.r.Success&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"flex justify-center items-center",children:r.jsx(h(),{src:`https://media.themoviedb.org/t/p/w300_and_h300_face/${s?.avatar.tmdb.avatar_path}`,alt:"Avatar",width:150,height:150,className:"rounded-full"})}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[r.jsx("h1",{className:"text-2xl font-bold",children:s?.name}),r.jsx("span",{className:"text-sm text-gray-500 dark:text-sky-400",children:s?.username})]})]}),a===n.r.Loading&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"w-40 h-40 rounded-full bg-sky-300 dark:bg-sky-700 animate-pulse"}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[r.jsx("div",{className:"w-72 h-8 bg-sky-300 dark:bg-sky-700 animate-pulse rounded-md"}),r.jsx("div",{className:"w-32 h-5 bg-sky-300 dark:bg-sky-700 animate-pulse rounded-md"})]})]}),o&&(0,r.jsxs)("div",{className:"flex flex-col gap-4 items-center justify-center mt-16",children:[r.jsx("span",{className:"text-sky-950 dark:text-white",children:o.message}),r.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-md text-sm font-bold hover:bg-blue-600",onClick:()=>{e&&t&&window.location.reload()},children:"Reload"})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-8 bg-white px-4 md:px-16 dark:bg-sky-950 dark:text-white pb-16 pt-8",children:[r.jsx("h1",{className:"text-xl font-bold",children:"Favorite Movies"}),m===n.r.Loading&&(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[r.jsx(d.Z,{isInDetail:!1}),r.jsx(d.Z,{isInDetail:!1}),r.jsx(d.Z,{isInDetail:!1}),r.jsx(d.Z,{isInDetail:!1}),r.jsx(d.Z,{isInDetail:!1}),r.jsx(d.Z,{isInDetail:!1})]}),m===n.r.Success&&u&&r.jsx(c.Z,{data:u,status:m,error:x,isLoadMoreNeeded:!1,onLoadMore:()=>{}}),x&&(0,r.jsxs)("div",{className:"flex flex-col gap-4 items-center justify-center mt-16",children:[r.jsx("span",{className:"text-sky-950 dark:text-white",children:x.message}),r.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-md text-sm font-bold hover:bg-blue-600",onClick:()=>{e&&t&&window.location.reload()},children:"Reload"})]}),m===n.r.Success&&!u&&r.jsx("div",{className:"flex flex-col gap-4 items-center justify-center mt-16",children:r.jsx("span",{className:"text-sky-950 dark:text-white",children:"No favorite movies found"})})]})]})}[i,l,c]=u.then?(await u)():u,a()}catch(e){a(e)}})},3756:(e,t,s)=>{"use strict";var a;s.d(t,{r:()=>a}),function(e){e[e.Idle=0]="Idle",e[e.Loading=1]="Loading",e[e.Success=2]="Success",e[e.Error=3]="Error"}(a||(a={}))},6593:(e,t,s)=>{"use strict";s.d(t,{HI:()=>r,p6:()=>a,pe:()=>i});let a=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),r=e=>Buffer.from(e).toString("base64"),i=e=>Buffer.from(e,"base64").toString("utf-8")},6764:()=>{}};