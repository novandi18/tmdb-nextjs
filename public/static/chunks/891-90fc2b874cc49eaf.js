"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[891],{3347:function(e,s,t){t.d(s,{Bm:function(){return o},g8:function(){return c},hd:function(){return d},jr:function(){return u}});var a=t(5860),l=t(6984),r=t(7066),i=t(7294);let n="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjYzc3ZjMzNmY4NTlkYzM0ZGRiOWRhYzFmODc4ODJiMSIsIm5iZiI6MTcyOTA1MzU5My4yMzI1NjIsInN1YiI6IjY1NjdkYmE3MTI3Nzc4MDBhZDVmNTljNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.9vUNrlSEbJeeEHHEl9R6ylxjO_5fiG0_w25w7ZgNX3M",d=function(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,[d,c]=(0,i.useState)(null),[o,u]=(0,i.useState)(l.r.Idle),[x,m]=(0,i.useState)(null);return(0,i.useEffect)(()=>{(async()=>{u(l.r.Loading);try{let i=await r.Z.get(a.P.FAVORITE_MOVIES(e),{headers:{Authorization:"Bearer ".concat(n)},params:{session_id:s,page:t}});c(i.data),u(l.r.Success)}catch(e){m(e),u(l.r.Error)}})()},[e,s,t]),[d,o,x]},c=async(e,s,t,i)=>{let d=null,c=l.r.Idle,o=null;try{c=l.r.Loading,d=(await r.Z.post(a.P.ADD_FAVORITE(e),{media_type:"movie",media_id:t,favorite:i},{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json;charset=utf-8"},params:{session_id:s}})).data,c=l.r.Success}catch(e){o=e,c=l.r.Error}return[d,c,o]},o=e=>{let[s,t]=(0,i.useState)(null),[d,c]=(0,i.useState)(l.r.Idle),[o,u]=(0,i.useState)(null);return(0,i.useEffect)(()=>{(async()=>{c(l.r.Loading);try{let s=await r.Z.get(a.P.GET_MOVIE_DETAIL(e),{headers:{Authorization:"Bearer ".concat(n)}});t(s.data),c(l.r.Success)}catch(e){u(e),c(l.r.Error)}})()},[e]),[s,d,o]},u=(e,s,t)=>{let[a,r,n]=d(e,s),[c,o]=(0,i.useState)(!1),[u,x]=(0,i.useState)(l.r.Idle),[m,h]=(0,i.useState)(null);return(0,i.useEffect)(()=>{r===l.r.Success&&a?(o(a.results.some(e=>e.id===t)),x(l.r.Success)):n&&(h(n),x(l.r.Error))},[a,r,n,t]),[c,u,m]}},5899:function(e,s,t){t.d(s,{Z:function(){return l}});var a=t(5893);function l(e){let{isInDetail:s=!1}=e;return(0,a.jsx)("div",{className:"animate-pulse rounded-md ".concat(s?"w-56 h-80":"w-40 h-72"),children:(0,a.jsx)("div",{className:"w-full h-full bg-gray-200 dark:bg-sky-700 rounded-md"})})}},4750:function(e,s,t){t.d(s,{Z:function(){return h}});var a=t(5893),l=t(403),r=t(5675),i=t.n(r),n=t(1664),d=t.n(n);function c(e){let{movie:s}=e;return(0,a.jsxs)(d(),{href:"/movie/".concat(s.id),className:"flex-none w-40 flex flex-col justify-between hover:scale-105 transition-all duration-300",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)(i(),{src:"https://media.themoviedb.org/t/p/w220_and_h330_face/".concat(s.poster_path),alt:"movie",height:330,width:220,className:"object-cover rounded-lg shadow-sm"}),(0,a.jsx)("h3",{className:"font-bold text-sky-950 dark:text-white text-base mx-2 mt-2",children:s.title}),(0,a.jsx)("p",{className:"max-w-sm text-gray-700 dark:text-sky-200 text-xs mx-2 mb-2",children:s.release_date?(0,l.p6)(s.release_date):""})]}),(0,a.jsxs)("p",{className:"flex max-w-sm text-gray-700 dark:text-sky-200 text-xs mx-2 mb-2 gap-1",children:[(0,a.jsxs)("strong",{children:[Math.round(10*s.vote_average),"%"]}),(0,a.jsx)("span",{className:"text-xs",children:"User Score"})]})]})}var o=t(5899),u=t(6984),x=t(7294);let m=x.forwardRef(function({title:e,titleId:s,...t},a){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},t),e?x.createElement("title",{id:s},e):null,x.createElement("path",{fillRule:"evenodd",d:"M13.836 2.477a.75.75 0 0 1 .75.75v3.182a.75.75 0 0 1-.75.75h-3.182a.75.75 0 0 1 0-1.5h1.37l-.84-.841a4.5 4.5 0 0 0-7.08.932.75.75 0 0 1-1.3-.75 6 6 0 0 1 9.44-1.242l.842.84V3.227a.75.75 0 0 1 .75-.75Zm-.911 7.5A.75.75 0 0 1 13.199 11a6 6 0 0 1-9.44 1.241l-.84-.84v1.371a.75.75 0 0 1-1.5 0V9.591a.75.75 0 0 1 .75-.75H5.35a.75.75 0 0 1 0 1.5H3.98l.841.841a4.5 4.5 0 0 0 7.08-.932.75.75 0 0 1 1.025-.273Z",clipRule:"evenodd"}))});function h(e){let{data:s,status:t,error:l,isLoadMoreNeeded:r=!1,onLoadMore:i}=e;return t===u.r.Error?(0,a.jsxs)("div",{children:["Error: ",null==l?void 0:l.message]}):(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2",children:t===u.r.Success&&s.results.length>0?s.results.map(e=>(0,a.jsx)(c,{movie:e},e.id)):(0,a.jsx)("div",{children:"No movies found"})}),t===u.r.Loading&&(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2",children:[(0,a.jsx)(o.Z,{isInDetail:!1}),(0,a.jsx)(o.Z,{isInDetail:!1}),(0,a.jsx)(o.Z,{isInDetail:!1}),(0,a.jsx)(o.Z,{isInDetail:!1}),(0,a.jsx)(o.Z,{isInDetail:!1}),(0,a.jsx)(o.Z,{isInDetail:!1})]}),r&&s.results.length>0&&(0,a.jsxs)("button",{className:"w-full bg-sky-800 text-white px-4 rounded-md flex items-center justify-center gap-2 py-4 hover:bg-sky-900 transition-all duration-300 disabled:bg-sky-900 disabled:cursor-not-allowed",onClick:i,disabled:t===u.r.Loading,children:[(0,a.jsx)(m,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm",children:"Load More"})]})]})}},5891:function(e,s,t){t.r(s),t.d(s,{default:function(){return h}});var a=t(5893),l=t(7294),r=t(6984),i=t(7066),n=t(5860);let d=e=>{let[s,t]=(0,l.useState)(null),[a,d]=(0,l.useState)(r.r.Idle),[c,o]=(0,l.useState)(null);return(0,l.useEffect)(()=>{let s=async()=>{d(r.r.Loading);try{let s=await i.Z.get(n.P.GET_ACCOUNT,{params:{session_id:e},headers:{Authorization:"Bearer ".concat("eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjYzc3ZjMzNmY4NTlkYzM0ZGRiOWRhYzFmODc4ODJiMSIsIm5iZiI6MTcyOTA1MzU5My4yMzI1NjIsInN1YiI6IjY1NjdkYmE3MTI3Nzc4MDBhZDVmNTljNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.9vUNrlSEbJeeEHHEl9R6ylxjO_5fiG0_w25w7ZgNX3M"),"Content-Type":"application/json;charset=utf-8"}});t(s.data),d(r.r.Success)}catch(e){o(e),d(r.r.Error)}};e&&s()},[e]),[s,a,c]};var c=t(3347),o=t(5899),u=t(4750),x=t(5675),m=t.n(x);function h(e){let{accountId:s,sessionId:t}=e,[l,i,n]=d(t),[x,h,f]=(0,c.hd)(s,t);return(0,a.jsxs)("div",{className:"w-full flex flex-col",children:[(0,a.jsxs)("div",{className:"grid grid-cols-[1fr_4fr] gap-4 bg-sky-100 px-4 md:px-16 py-8 dark:bg-sky-900 dark:text-white",children:[i===r.r.Success&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex justify-center items-center",children:(0,a.jsx)(m(),{src:"https://media.themoviedb.org/t/p/w300_and_h300_face/".concat(null==l?void 0:l.avatar.tmdb.avatar_path),alt:"Avatar",width:150,height:150,className:"rounded-full"})}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:null==l?void 0:l.name}),(0,a.jsx)("span",{className:"text-sm text-gray-500 dark:text-sky-400",children:null==l?void 0:l.username})]})]}),i===r.r.Loading&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-40 h-40 rounded-full bg-sky-300 dark:bg-sky-700 animate-pulse"}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("div",{className:"w-72 h-8 bg-sky-300 dark:bg-sky-700 animate-pulse rounded-md"}),(0,a.jsx)("div",{className:"w-32 h-5 bg-sky-300 dark:bg-sky-700 animate-pulse rounded-md"})]})]}),n&&(0,a.jsxs)("div",{className:"flex flex-col gap-4 items-center justify-center mt-16",children:[(0,a.jsx)("span",{className:"text-sky-950 dark:text-white",children:n.message}),(0,a.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-md text-sm font-bold hover:bg-blue-600",onClick:()=>{s&&t&&window.location.reload()},children:"Reload"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-8 bg-white px-4 md:px-16 dark:bg-sky-950 dark:text-white pb-16 pt-8",children:[(0,a.jsx)("h1",{className:"text-xl font-bold",children:"Favorite Movies"}),h===r.r.Loading&&(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[(0,a.jsx)(o.Z,{isInDetail:!1}),(0,a.jsx)(o.Z,{isInDetail:!1}),(0,a.jsx)(o.Z,{isInDetail:!1}),(0,a.jsx)(o.Z,{isInDetail:!1}),(0,a.jsx)(o.Z,{isInDetail:!1}),(0,a.jsx)(o.Z,{isInDetail:!1})]}),h===r.r.Success&&x&&(0,a.jsx)(u.Z,{data:x,status:h,error:f,isLoadMoreNeeded:!1,onLoadMore:()=>{}}),f&&(0,a.jsxs)("div",{className:"flex flex-col gap-4 items-center justify-center mt-16",children:[(0,a.jsx)("span",{className:"text-sky-950 dark:text-white",children:f.message}),(0,a.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-md text-sm font-bold hover:bg-blue-600",onClick:()=>{s&&t&&window.location.reload()},children:"Reload"})]}),h===r.r.Success&&!x&&(0,a.jsx)("div",{className:"flex flex-col gap-4 items-center justify-center mt-16",children:(0,a.jsx)("span",{className:"text-sky-950 dark:text-white",children:"No favorite movies found"})})]})]})}}}]);