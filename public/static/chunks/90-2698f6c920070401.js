"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[90],{3347:function(e,t,a){a.d(t,{Bm:function(){return o},g8:function(){return c},hd:function(){return d},jr:function(){return u}});var s=a(5860),l=a(6984),r=a(7066),n=a(7294);let i="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjYzc3ZjMzNmY4NTlkYzM0ZGRiOWRhYzFmODc4ODJiMSIsIm5iZiI6MTcyOTA1MzU5My4yMzI1NjIsInN1YiI6IjY1NjdkYmE3MTI3Nzc4MDBhZDVmNTljNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.9vUNrlSEbJeeEHHEl9R6ylxjO_5fiG0_w25w7ZgNX3M",d=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,[d,c]=(0,n.useState)(null),[o,u]=(0,n.useState)(l.r.Idle),[m,x]=(0,n.useState)(null);return(0,n.useEffect)(()=>{(async()=>{u(l.r.Loading);try{let n=await r.Z.get(s.P.FAVORITE_MOVIES(e),{headers:{Authorization:"Bearer ".concat(i)},params:{session_id:t,page:a}});c(n.data),u(l.r.Success)}catch(e){x(e),u(l.r.Error)}})()},[e,t,a]),[d,o,m]},c=async(e,t,a,n)=>{let d=null,c=l.r.Idle,o=null;try{c=l.r.Loading,d=(await r.Z.post(s.P.ADD_FAVORITE(e),{media_type:"movie",media_id:a,favorite:n},{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json;charset=utf-8"},params:{session_id:t}})).data,c=l.r.Success}catch(e){o=e,c=l.r.Error}return[d,c,o]},o=e=>{let[t,a]=(0,n.useState)(null),[d,c]=(0,n.useState)(l.r.Idle),[o,u]=(0,n.useState)(null);return(0,n.useEffect)(()=>{(async()=>{c(l.r.Loading);try{let t=await r.Z.get(s.P.GET_MOVIE_DETAIL(e),{headers:{Authorization:"Bearer ".concat(i)}});a(t.data),c(l.r.Success)}catch(e){u(e),c(l.r.Error)}})()},[e]),[t,d,o]},u=(e,t,a)=>{let[s,r,i]=d(e,t),[c,o]=(0,n.useState)(!1),[u,m]=(0,n.useState)(l.r.Idle),[x,h]=(0,n.useState)(null);return(0,n.useEffect)(()=>{r===l.r.Success&&s?(o(s.results.some(e=>e.id===a)),m(l.r.Success)):i&&(h(i),m(l.r.Error))},[s,r,i,a]),[c,u,x]}},6289:function(e,t,a){a.d(t,{Z:function(){return d}});var s=a(5893),l=a(7294);let r=l.forwardRef(function({title:e,titleId:t,...a},s){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm3.844-8.791a.75.75 0 0 0-1.188-.918l-3.7 4.79-1.649-1.833a.75.75 0 1 0-1.114 1.004l2.25 2.5a.75.75 0 0 0 1.15-.043l4.25-5.5Z",clipRule:"evenodd"}))}),n=l.forwardRef(function({title:e,titleId:t,...a},s){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm2.78-4.22a.75.75 0 0 1-1.06 0L8 9.06l-1.72 1.72a.75.75 0 1 1-1.06-1.06L6.94 8 5.22 6.28a.75.75 0 0 1 1.06-1.06L8 6.94l1.72-1.72a.75.75 0 1 1 1.06 1.06L9.06 8l1.72 1.72a.75.75 0 0 1 0 1.06Z",clipRule:"evenodd"}))}),i=l.forwardRef(function({title:e,titleId:t,...a},s){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},a),e?l.createElement("title",{id:t},e):null,l.createElement("path",{d:"M5.28 4.22a.75.75 0 0 0-1.06 1.06L6.94 8l-2.72 2.72a.75.75 0 1 0 1.06 1.06L8 9.06l2.72 2.72a.75.75 0 1 0 1.06-1.06L9.06 8l2.72-2.72a.75.75 0 0 0-1.06-1.06L8 6.94 5.28 4.22Z"}))});function d(e){let{message:t,type:a}=e,[d,c]=(0,l.useState)(!0);return(0,s.jsxs)("div",{className:"p-4 flex items-center mt-2 gap-2 justify-between text-sm ".concat("success"===a?"bg-green-200 text-green-800":"bg-red-200 text-red-800"," rounded-lg ").concat(d?"block":"hidden"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:["success"===a?(0,s.jsx)(r,{className:"w-4 h-4"}):(0,s.jsx)(n,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:t})]}),(0,s.jsx)("button",{className:"p-1",onClick:()=>c(!1),children:(0,s.jsx)(i,{className:"w-4 h-4"})})]})}},5899:function(e,t,a){a.d(t,{Z:function(){return l}});var s=a(5893);function l(e){let{isInDetail:t=!1}=e;return(0,s.jsx)("div",{className:"animate-pulse rounded-md ".concat(t?"w-56 h-80":"w-40 h-72"),children:(0,s.jsx)("div",{className:"w-full h-full bg-gray-200 dark:bg-sky-700 rounded-md"})})}},90:function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});var s=a(5893),l=a(3347),r=a(5899),n=a(7294);let i=n.forwardRef(function(e,t){let{title:a,titleId:s,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),a?n.createElement("title",{id:s},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}),d=n.forwardRef(function(e,t){let{title:a,titleId:s,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),a?n.createElement("title",{id:s},a):null,n.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))});function c(e){let{isFavorite:t,onToggleFavorite:a}=e;return(0,s.jsx)("button",{className:"bg-white/20 border border-red-500 p-3 rounded-full flex items-center gap-2 w-fit text-red-500 hover:bg-red-500/25",onClick:a,children:t?(0,s.jsx)(d,{className:"w-6 h-6"}):(0,s.jsx)(i,{className:"w-6 h-6"})})}var o=a(6984),u=a(403),m=a(5675),x=a.n(m),h=a(1955),g=a(6289);function f(e){let{id:t,setTitle:a}=e,[i,d,m]=(0,l.Bm)(t),[f,p]=(0,n.useState)(!1),v=h.Z.get("tmdb_account_id"),j=h.Z.get("tmdb_session_id"),w=j?(0,u.pe)(j):"",[b,N]=(0,l.jr)(v,w,t);(0,n.useEffect)(()=>{N===o.r.Success?p(b):N===o.r.Error&&p(!1)},[N,b]);let y=async()=>{let[,e]=await (0,l.g8)(v,w,t,!f);e===o.r.Success&&p(!f)};if(m)return(0,s.jsxs)("div",{className:"flex flex-col gap-4 items-center justify-center mt-16",children:[(0,s.jsx)("span",{className:"text-sky-950 dark:text-white",children:m.message}),(0,s.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-md text-sm font-bold hover:bg-blue-600",onClick:()=>{v&&j&&window.location.reload()},children:"Reload"})]});if(d===o.r.Loading)return(0,s.jsxs)("div",{className:"grid grid-cols-1 px-4 gap-4 md:px-16 py-8 bg-white dark:bg-sky-950 dark:text-white md:grid-cols-[1fr_3fr]",children:[(0,s.jsx)("div",{className:"flex justify-center items-center",children:(0,s.jsx)(r.Z,{isInDetail:!0})}),(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("div",{className:"h-10 w-64 bg-gray-300 dark:bg-sky-700 rounded-md animate-pulse"}),(0,s.jsx)("div",{className:"h-4 w-40 bg-gray-300 dark:bg-sky-700 rounded-md animate-pulse"})]}),(0,s.jsx)("div",{className:"h-12 w-12 bg-gray-300 dark:bg-sky-700 rounded-full animate-pulse"}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("div",{className:"h-6 w-40 bg-gray-300 dark:bg-sky-700 rounded-md animate-pulse"}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("div",{className:"h-4 w-11/12 bg-gray-300 dark:bg-sky-700 rounded-md animate-pulse"}),(0,s.jsx)("div",{className:"h-4 w-10/12 bg-gray-300 dark:bg-sky-700 rounded-md animate-pulse"})]})]})]})]});if(d===o.r.Success&&i){var k,E,_,I,S,Z,M;return a("".concat(i.title," (").concat(null===(k=i.release_date)||void 0===k?void 0:k.split("-")[0],")")),(0,s.jsxs)("div",{className:"grid grid-cols-1 px-4 gap-4 md:px-16 py-8 bg-white dark:bg-sky-950 dark:text-white md:grid-cols-[1fr_3fr]",children:[(0,s.jsx)("div",{className:"flex justify-center items-start",children:(0,s.jsx)(x(),{src:"https://media.themoviedb.org/t/p/w220_and_h330_face/".concat(i.poster_path),alt:null!==(S=i.title)&&void 0!==S?S:"",width:220,height:330,className:"rounded-lg shadow-md"})}),(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[!v&&!j&&(0,s.jsx)(g.Z,{message:"Please login to add this movie to your favorites",type:"error"}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)("h1",{className:"text-2xl",children:[(0,s.jsx)("strong",{children:i.title})," (",null===(E=i.release_date)||void 0===E?void 0:E.split("-")[0],")"]}),(0,s.jsxs)("span",{className:"text-sm",children:[(0,u.p6)(null!==(Z=i.release_date)&&void 0!==Z?Z:"")," - ",i.runtime,"m"]})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("div",{className:"rounded-md h-12 px-4 text-white bg-sky-950 dark:bg-sky-900 flex items-center justify-center gap-1 border-2 ".concat(i.vote_average&&i.vote_average>70?"border-green-500":"border-yellow-500"),children:[(0,s.jsxs)("strong",{children:[Math.round((null!==(M=i.vote_average)&&void 0!==M?M:0)*10),"%"]}),(0,s.jsx)("span",{className:"text-xs",children:"User Score"})]}),v&&j&&(0,s.jsx)(c,{isFavorite:f,onToggleFavorite:y})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("h2",{className:"text-lg font-bold",children:"Overview"}),(0,s.jsx)("p",{className:"text-sm",children:i.overview})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("h2",{className:"text-lg font-bold",children:"Genres"}),(0,s.jsx)("div",{className:"flex gap-2",children:null===(_=i.genres)||void 0===_?void 0:_.map(e=>(0,s.jsx)("span",{className:"text-sm bg-sky-950 dark:bg-sky-900 px-2 py-1 rounded-md text-white",children:e.name},e.id))})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("h2",{className:"text-lg font-bold",children:"Production Companies"}),(0,s.jsx)("div",{className:"flex gap-2",children:null===(I=i.production_companies)||void 0===I?void 0:I.map(e=>(0,s.jsx)("span",{className:"text-sm dark:text-white",children:e.name},e.id))})]})]})]})}}}}]);