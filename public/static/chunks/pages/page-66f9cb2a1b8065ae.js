(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{518:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/page",function(){return s(9868)}])},3748:function(e,t,s){"use strict";s.d(t,{A:function(){return c},v:function(){return l}});var a=s(6984),r=s(7294),n=s(7066),i=s(5860);let o="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjYzc3ZjMzNmY4NTlkYzM0ZGRiOWRhYzFmODc4ODJiMSIsIm5iZiI6MTcyOTA1MzU5My4yMzI1NjIsInN1YiI6IjY1NjdkYmE3MTI3Nzc4MDBhZDVmNTljNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.9vUNrlSEbJeeEHHEl9R6ylxjO_5fiG0_w25w7ZgNX3M",l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,[t,s]=(0,r.useState)({page:0,results:[],total_pages:0,total_results:0}),[l,c]=(0,r.useState)(a.r.Idle),[d,u]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{c(a.r.Loading);try{let t=await n.Z.get("".concat(i.P.NOW_PLAYING),{headers:{Authorization:"Bearer ".concat(o)}});t.data.results=t.data.results.slice(0,e),s(t.data),c(a.r.Success)}catch(e){n.Z.isAxiosError(e)&&e.response?u(Error(e.response.data.status_message)):u(Error("An unknown error occurred")),c(a.r.Error)}})()},[]),[t,l,d]},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,[s,l]=(0,r.useState)([]),[c,d]=(0,r.useState)(a.r.Idle),[u,h]=(0,r.useState)(null),[g,m]=(0,r.useState)(1),[x,f]=(0,r.useState)([]),p=(0,r.useCallback)(async()=>{d(a.r.Loading);try{let e=await n.Z.get("".concat(i.P.POPULAR),{params:{page:g},headers:{Authorization:"Bearer ".concat(o)}});l(t=>[...t,...e.data.results]),d(a.r.Success)}catch(e){n.Z.isAxiosError(e)&&e.response?h(Error(e.response.data.status_message)):h(Error("An unknown error occurred")),d(a.r.Error)}},[g]);return(0,r.useEffect)(()=>{p()},[p]),(0,r.useEffect)(()=>{s.length>=e&&0===x.length&&f(s.slice(0,e))},[s,e,x.length]),(0,r.useEffect)(()=>{s.length-x.length<t&&m(e=>e+1)},[s.length,x.length,t]),[{page:g,results:x,total_pages:0,total_results:0},c,u,()=>{let e=x.length;e+t<=s.length?f(s.slice(0,e+t)):m(e=>e+1)}]}},5899:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(5893);function r(e){let{isInDetail:t=!1}=e;return(0,a.jsx)("div",{className:"animate-pulse rounded-md ".concat(t?"w-56 h-80":"w-40 h-72"),children:(0,a.jsx)("div",{className:"w-full h-full bg-gray-200 dark:bg-sky-700 rounded-md"})})}},4750:function(e,t,s){"use strict";s.d(t,{Z:function(){return m}});var a=s(5893),r=s(403),n=s(5675),i=s.n(n),o=s(1664),l=s.n(o);function c(e){let{movie:t}=e;return(0,a.jsxs)(l(),{href:"/movie/".concat(t.id),className:"flex-none w-40 flex flex-col justify-between hover:scale-105 transition-all duration-300",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)(i(),{src:"https://media.themoviedb.org/t/p/w220_and_h330_face/".concat(t.poster_path),alt:"movie",height:330,width:220,className:"object-cover rounded-lg shadow-sm"}),(0,a.jsx)("h3",{className:"font-bold text-sky-950 dark:text-white text-base mx-2 mt-2",children:t.title}),(0,a.jsx)("p",{className:"max-w-sm text-gray-700 dark:text-sky-200 text-xs mx-2 mb-2",children:t.release_date?(0,r.p6)(t.release_date):""})]}),(0,a.jsxs)("p",{className:"flex max-w-sm text-gray-700 dark:text-sky-200 text-xs mx-2 mb-2 gap-1",children:[(0,a.jsxs)("strong",{children:[Math.round(10*t.vote_average),"%"]}),(0,a.jsx)("span",{className:"text-xs",children:"User Score"})]})]})}var d=s(5899),u=s(6984),h=s(7294);let g=h.forwardRef(function({title:e,titleId:t,...s},a){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?h.createElement("title",{id:t},e):null,h.createElement("path",{fillRule:"evenodd",d:"M13.836 2.477a.75.75 0 0 1 .75.75v3.182a.75.75 0 0 1-.75.75h-3.182a.75.75 0 0 1 0-1.5h1.37l-.84-.841a4.5 4.5 0 0 0-7.08.932.75.75 0 0 1-1.3-.75 6 6 0 0 1 9.44-1.242l.842.84V3.227a.75.75 0 0 1 .75-.75Zm-.911 7.5A.75.75 0 0 1 13.199 11a6 6 0 0 1-9.44 1.241l-.84-.84v1.371a.75.75 0 0 1-1.5 0V9.591a.75.75 0 0 1 .75-.75H5.35a.75.75 0 0 1 0 1.5H3.98l.841.841a4.5 4.5 0 0 0 7.08-.932.75.75 0 0 1 1.025-.273Z",clipRule:"evenodd"}))});function m(e){let{data:t,status:s,error:r,isLoadMoreNeeded:n=!1,onLoadMore:i}=e;return s===u.r.Error?(0,a.jsxs)("div",{children:["Error: ",null==r?void 0:r.message]}):(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2",children:s===u.r.Success&&t.results.length>0?t.results.map(e=>(0,a.jsx)(c,{movie:e},e.id)):(0,a.jsx)("div",{children:"No movies found"})}),s===u.r.Loading&&(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2",children:[(0,a.jsx)(d.Z,{isInDetail:!1}),(0,a.jsx)(d.Z,{isInDetail:!1}),(0,a.jsx)(d.Z,{isInDetail:!1}),(0,a.jsx)(d.Z,{isInDetail:!1}),(0,a.jsx)(d.Z,{isInDetail:!1}),(0,a.jsx)(d.Z,{isInDetail:!1})]}),n&&t.results.length>0&&(0,a.jsxs)("button",{className:"w-full bg-sky-800 text-white px-4 rounded-md flex items-center justify-center gap-2 py-4 hover:bg-sky-900 transition-all duration-300 disabled:bg-sky-900 disabled:cursor-not-allowed",onClick:i,disabled:s===u.r.Loading,children:[(0,a.jsx)(g,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm",children:"Load More"})]})]})}},5860:function(e,t,s){"use strict";s.d(t,{P:function(){return a}});let a={NOW_PLAYING:"https://api.themoviedb.org/3/movie/now_playing",POPULAR:"https://api.themoviedb.org/3/movie/popular",ADD_FAVORITE:e=>"https://api.themoviedb.org/3/account/".concat(e,"/favorite"),FAVORITE_MOVIES:e=>"https://api.themoviedb.org/3/account/".concat(e,"/favorite/movies"),DELETE_FAVORITE:(e,t)=>"https://api.themoviedb.org/3/account/".concat(e,"/favorite/").concat(t),CREATE_GUEST_SESSION:"https://api.themoviedb.org/3/authentication/guest_session/new",CREATE_REQUEST_TOKEN:"https://api.themoviedb.org/3/authentication/token/new",VALIDATE_REQUEST_TOKEN:"https://api.themoviedb.org/3/authentication/token/validate_with_login",AUTHENTICATE_USER:e=>"https://www.themoviedb.org/authenticate/".concat(e),CREATE_SESSION:"https://api.themoviedb.org/3/authentication/session/new",DELETE_SESSION:"https://api.themoviedb.org/3/authentication/session",GET_ACCOUNT:"https://api.themoviedb.org/3/account",GET_MOVIE_DETAIL:e=>"https://api.themoviedb.org/3/movie/".concat(e)}},9868:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var a=s(5893),r=s(3748),n=s(4750);function i(){let[e,t,s]=(0,r.v)(),[i,o,l,c]=(0,r.A)();return(0,a.jsxs)("div",{className:"w-full flex flex-col gap-8",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-6 bg-sky-100 px-4 md:px-16 py-8 dark:bg-sky-900 dark:text-white",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Now Playing"}),(0,a.jsx)(n.Z,{data:e,status:t,error:s,isLoadMoreNeeded:!1,onLoadMore:()=>{}})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-6 px-4 md:px-16 py-8 bg-white dark:bg-sky-950 dark:text-white",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Popular"}),(0,a.jsx)(n.Z,{data:i,status:o,error:l,isLoadMoreNeeded:!0,onLoadMore:c})]})]})}},6984:function(e,t,s){"use strict";var a,r;s.d(t,{r:function(){return a}}),(r=a||(a={}))[r.Idle=0]="Idle",r[r.Loading=1]="Loading",r[r.Success=2]="Success",r[r.Error=3]="Error"},403:function(e,t,s){"use strict";s.d(t,{HI:function(){return n},p6:function(){return r},pe:function(){return i}});var a=s(1876).Buffer;let r=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),n=e=>a.from(e).toString("base64"),i=e=>a.from(e,"base64").toString("utf-8")}},function(e){e.O(0,[66,675,664,888,774,179],function(){return e(e.s=518)}),_N_E=e.O()}]);