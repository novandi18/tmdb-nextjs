(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[95],{1961:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/movie/page",function(){return s(5138)}])},3748:function(e,t,s){"use strict";s.d(t,{A:function(){return c},v:function(){return l}});var r=s(6984),a=s(7294),n=s(7066),i=s(5860);let o="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjYzc3ZjMzNmY4NTlkYzM0ZGRiOWRhYzFmODc4ODJiMSIsIm5iZiI6MTcyOTA1MzU5My4yMzI1NjIsInN1YiI6IjY1NjdkYmE3MTI3Nzc4MDBhZDVmNTljNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.9vUNrlSEbJeeEHHEl9R6ylxjO_5fiG0_w25w7ZgNX3M",l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,[t,s]=(0,a.useState)({page:0,results:[],total_pages:0,total_results:0}),[l,c]=(0,a.useState)(r.r.Idle),[d,u]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{c(r.r.Loading);try{let t=await n.Z.get("".concat(i.P.NOW_PLAYING),{headers:{Authorization:"Bearer ".concat(o)}});t.data.results=t.data.results.slice(0,e),s(t.data),c(r.r.Success)}catch(e){n.Z.isAxiosError(e)&&e.response?u(Error(e.response.data.status_message)):u(Error("An unknown error occurred")),c(r.r.Error)}})()},[]),[t,l,d]},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,[s,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(r.r.Idle),[u,h]=(0,a.useState)(null),[g,m]=(0,a.useState)(1),[f,p]=(0,a.useState)([]),x=(0,a.useCallback)(async()=>{d(r.r.Loading);try{let e=await n.Z.get("".concat(i.P.POPULAR),{params:{page:g},headers:{Authorization:"Bearer ".concat(o)}});l(t=>[...t,...e.data.results]),d(r.r.Success)}catch(e){n.Z.isAxiosError(e)&&e.response?h(Error(e.response.data.status_message)):h(Error("An unknown error occurred")),d(r.r.Error)}},[g]);return(0,a.useEffect)(()=>{x()},[x]),(0,a.useEffect)(()=>{s.length>=e&&0===f.length&&p(s.slice(0,e))},[s,e,f.length]),(0,a.useEffect)(()=>{s.length-f.length<t&&m(e=>e+1)},[s.length,f.length,t]),[{page:g,results:f,total_pages:0,total_results:0},c,u,()=>{let e=f.length;e+t<=s.length?p(s.slice(0,e+t)):m(e=>e+1)}]}},5899:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(5893);function a(e){let{isInDetail:t=!1}=e;return(0,r.jsx)("div",{className:"animate-pulse rounded-md ".concat(t?"w-56 h-80":"w-40 h-72"),children:(0,r.jsx)("div",{className:"w-full h-full bg-gray-200 dark:bg-sky-700 rounded-md"})})}},4750:function(e,t,s){"use strict";s.d(t,{Z:function(){return m}});var r=s(5893),a=s(403),n=s(5675),i=s.n(n),o=s(1664),l=s.n(o);function c(e){let{movie:t}=e;return(0,r.jsxs)(l(),{href:"/movie/".concat(t.id),className:"flex-none w-40 flex flex-col justify-between hover:scale-105 transition-all duration-300",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)(i(),{src:"https://media.themoviedb.org/t/p/w220_and_h330_face/".concat(t.poster_path),alt:"movie",height:330,width:220,className:"object-cover rounded-lg shadow-sm"}),(0,r.jsx)("h3",{className:"font-bold text-sky-950 dark:text-white text-base mx-2 mt-2",children:t.title}),(0,r.jsx)("p",{className:"max-w-sm text-gray-700 dark:text-sky-200 text-xs mx-2 mb-2",children:t.release_date?(0,a.p6)(t.release_date):""})]}),(0,r.jsxs)("p",{className:"flex max-w-sm text-gray-700 dark:text-sky-200 text-xs mx-2 mb-2 gap-1",children:[(0,r.jsxs)("strong",{children:[Math.round(10*t.vote_average),"%"]}),(0,r.jsx)("span",{className:"text-xs",children:"User Score"})]})]})}var d=s(5899),u=s(6984),h=s(7294);let g=h.forwardRef(function({title:e,titleId:t,...s},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?h.createElement("title",{id:t},e):null,h.createElement("path",{fillRule:"evenodd",d:"M13.836 2.477a.75.75 0 0 1 .75.75v3.182a.75.75 0 0 1-.75.75h-3.182a.75.75 0 0 1 0-1.5h1.37l-.84-.841a4.5 4.5 0 0 0-7.08.932.75.75 0 0 1-1.3-.75 6 6 0 0 1 9.44-1.242l.842.84V3.227a.75.75 0 0 1 .75-.75Zm-.911 7.5A.75.75 0 0 1 13.199 11a6 6 0 0 1-9.44 1.241l-.84-.84v1.371a.75.75 0 0 1-1.5 0V9.591a.75.75 0 0 1 .75-.75H5.35a.75.75 0 0 1 0 1.5H3.98l.841.841a4.5 4.5 0 0 0 7.08-.932.75.75 0 0 1 1.025-.273Z",clipRule:"evenodd"}))});function m(e){let{data:t,status:s,error:a,isLoadMoreNeeded:n=!1,onLoadMore:i}=e;return s===u.r.Error?(0,r.jsxs)("div",{children:["Error: ",null==a?void 0:a.message]}):(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2",children:s===u.r.Success&&t.results.length>0?t.results.map(e=>(0,r.jsx)(c,{movie:e},e.id)):(0,r.jsx)("div",{children:"No movies found"})}),s===u.r.Loading&&(0,r.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2",children:[(0,r.jsx)(d.Z,{isInDetail:!1}),(0,r.jsx)(d.Z,{isInDetail:!1}),(0,r.jsx)(d.Z,{isInDetail:!1}),(0,r.jsx)(d.Z,{isInDetail:!1}),(0,r.jsx)(d.Z,{isInDetail:!1}),(0,r.jsx)(d.Z,{isInDetail:!1})]}),n&&t.results.length>0&&(0,r.jsxs)("button",{className:"w-full bg-sky-800 text-white px-4 rounded-md flex items-center justify-center gap-2 py-4 hover:bg-sky-900 transition-all duration-300 disabled:bg-sky-900 disabled:cursor-not-allowed",onClick:i,disabled:s===u.r.Loading,children:[(0,r.jsx)(g,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"text-sm",children:"Load More"})]})]})}},5860:function(e,t,s){"use strict";s.d(t,{P:function(){return r}});let r={NOW_PLAYING:"https://api.themoviedb.org/3/movie/now_playing",POPULAR:"https://api.themoviedb.org/3/movie/popular",ADD_FAVORITE:e=>"https://api.themoviedb.org/3/account/".concat(e,"/favorite"),FAVORITE_MOVIES:e=>"https://api.themoviedb.org/3/account/".concat(e,"/favorite/movies"),DELETE_FAVORITE:(e,t)=>"https://api.themoviedb.org/3/account/".concat(e,"/favorite/").concat(t),CREATE_GUEST_SESSION:"https://api.themoviedb.org/3/authentication/guest_session/new",CREATE_REQUEST_TOKEN:"https://api.themoviedb.org/3/authentication/token/new",VALIDATE_REQUEST_TOKEN:"https://api.themoviedb.org/3/authentication/token/validate_with_login",AUTHENTICATE_USER:e=>"https://www.themoviedb.org/authenticate/".concat(e),CREATE_SESSION:"https://api.themoviedb.org/3/authentication/session/new",DELETE_SESSION:"https://api.themoviedb.org/3/authentication/session",GET_ACCOUNT:"https://api.themoviedb.org/3/account",GET_MOVIE_DETAIL:e=>"https://api.themoviedb.org/3/movie/".concat(e)}},5138:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var r=s(5893),a=s(3748),n=s(4750);function i(){let[e,t,s,i]=(0,a.A)(30,30);return(0,r.jsxs)("div",{className:"flex flex-col gap-6 px-4 md:px-16 py-8 bg-white dark:bg-sky-950 dark:text-white",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Popular Movies"}),(0,r.jsx)(n.Z,{data:e,status:t,error:s,isLoadMoreNeeded:!0,onLoadMore:i})]})}},6984:function(e,t,s){"use strict";var r,a;s.d(t,{r:function(){return r}}),(a=r||(r={}))[a.Idle=0]="Idle",a[a.Loading=1]="Loading",a[a.Success=2]="Success",a[a.Error=3]="Error"},403:function(e,t,s){"use strict";s.d(t,{HI:function(){return n},p6:function(){return a},pe:function(){return i}});var r=s(1876).Buffer;let a=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),n=e=>r.from(e).toString("base64"),i=e=>r.from(e,"base64").toString("utf-8")}},function(e){e.O(0,[66,675,664,888,774,179],function(){return e(e.s=1961)}),_N_E=e.O()}]);