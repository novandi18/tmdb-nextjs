(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(3875)}])},3748:function(e,t,s){"use strict";s.d(t,{A:function(){return c},v:function(){return o}});var r=s(6984),a=s(7294),l=s(7066),n=s(5860);let i="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjYzc3ZjMzNmY4NTlkYzM0ZGRiOWRhYzFmODc4ODJiMSIsIm5iZiI6MTcyOTA1MzU5My4yMzI1NjIsInN1YiI6IjY1NjdkYmE3MTI3Nzc4MDBhZDVmNTljNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.9vUNrlSEbJeeEHHEl9R6ylxjO_5fiG0_w25w7ZgNX3M",o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,[t,s]=(0,a.useState)({page:0,results:[],total_pages:0,total_results:0}),[o,c]=(0,a.useState)(r.r.Idle),[d,u]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{c(r.r.Loading);try{let t=await l.Z.get("".concat(n.P.NOW_PLAYING),{headers:{Authorization:"Bearer ".concat(i)}});t.data.results=t.data.results.slice(0,e),s(t.data),c(r.r.Success)}catch(e){l.Z.isAxiosError(e)&&e.response?u(Error(e.response.data.status_message)):u(Error("An unknown error occurred")),c(r.r.Error)}})()},[]),[t,o,d]},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,[s,o]=(0,a.useState)([]),[c,d]=(0,a.useState)(r.r.Idle),[u,x]=(0,a.useState)(null),[h,f]=(0,a.useState)(1),[g,m]=(0,a.useState)([]),j=(0,a.useCallback)(async()=>{d(r.r.Loading);try{let e=await l.Z.get("".concat(n.P.POPULAR),{params:{page:h},headers:{Authorization:"Bearer ".concat(i)}});o(t=>[...t,...e.data.results]),d(r.r.Success)}catch(e){l.Z.isAxiosError(e)&&e.response?x(Error(e.response.data.status_message)):x(Error("An unknown error occurred")),d(r.r.Error)}},[h]);return(0,a.useEffect)(()=>{j()},[j]),(0,a.useEffect)(()=>{s.length>=e&&0===g.length&&m(s.slice(0,e))},[s,e,g.length]),(0,a.useEffect)(()=>{s.length-g.length<t&&f(e=>e+1)},[s.length,g.length,t]),[{page:h,results:g,total_pages:0,total_results:0},c,u,()=>{let e=g.length;e+t<=s.length?m(s.slice(0,e+t)):f(e=>e+1)}]}},5899:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(5893);function a(e){let{isInDetail:t=!1}=e;return(0,r.jsx)("div",{className:"animate-pulse rounded-md ".concat(t?"w-56 h-80":"w-40 h-72"),children:(0,r.jsx)("div",{className:"w-full h-full bg-gray-200 dark:bg-sky-700 rounded-md"})})}},4750:function(e,t,s){"use strict";s.d(t,{Z:function(){return f}});var r=s(5893),a=s(403),l=s(5675),n=s.n(l),i=s(1664),o=s.n(i);function c(e){let{movie:t}=e;return(0,r.jsxs)(o(),{href:"/movie/".concat(t.id),className:"flex-none w-40 flex flex-col justify-between hover:scale-105 transition-all duration-300",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)(n(),{src:"https://media.themoviedb.org/t/p/w220_and_h330_face/".concat(t.poster_path),alt:"movie",height:330,width:220,className:"object-cover rounded-lg shadow-sm"}),(0,r.jsx)("h3",{className:"font-bold text-sky-950 dark:text-white text-base mx-2 mt-2",children:t.title}),(0,r.jsx)("p",{className:"max-w-sm text-gray-700 dark:text-sky-200 text-xs mx-2 mb-2",children:t.release_date?(0,a.p6)(t.release_date):""})]}),(0,r.jsxs)("p",{className:"flex max-w-sm text-gray-700 dark:text-sky-200 text-xs mx-2 mb-2 gap-1",children:[(0,r.jsxs)("strong",{children:[Math.round(10*t.vote_average),"%"]}),(0,r.jsx)("span",{className:"text-xs",children:"User Score"})]})]})}var d=s(5899),u=s(6984),x=s(7294);let h=x.forwardRef(function({title:e,titleId:t,...s},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{fillRule:"evenodd",d:"M13.836 2.477a.75.75 0 0 1 .75.75v3.182a.75.75 0 0 1-.75.75h-3.182a.75.75 0 0 1 0-1.5h1.37l-.84-.841a4.5 4.5 0 0 0-7.08.932.75.75 0 0 1-1.3-.75 6 6 0 0 1 9.44-1.242l.842.84V3.227a.75.75 0 0 1 .75-.75Zm-.911 7.5A.75.75 0 0 1 13.199 11a6 6 0 0 1-9.44 1.241l-.84-.84v1.371a.75.75 0 0 1-1.5 0V9.591a.75.75 0 0 1 .75-.75H5.35a.75.75 0 0 1 0 1.5H3.98l.841.841a4.5 4.5 0 0 0 7.08-.932.75.75 0 0 1 1.025-.273Z",clipRule:"evenodd"}))});function f(e){let{data:t,status:s,error:a,isLoadMoreNeeded:l=!1,onLoadMore:n}=e;return s===u.r.Error?(0,r.jsxs)("div",{children:["Error: ",null==a?void 0:a.message]}):(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2",children:s===u.r.Success&&t.results.length>0?t.results.map(e=>(0,r.jsx)(c,{movie:e},e.id)):(0,r.jsx)("div",{children:"No movies found"})}),s===u.r.Loading&&(0,r.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2",children:[(0,r.jsx)(d.Z,{isInDetail:!1}),(0,r.jsx)(d.Z,{isInDetail:!1}),(0,r.jsx)(d.Z,{isInDetail:!1}),(0,r.jsx)(d.Z,{isInDetail:!1}),(0,r.jsx)(d.Z,{isInDetail:!1}),(0,r.jsx)(d.Z,{isInDetail:!1})]}),l&&t.results.length>0&&(0,r.jsxs)("button",{className:"w-full bg-sky-800 text-white px-4 rounded-md flex items-center justify-center gap-2 py-4 hover:bg-sky-900 transition-all duration-300 disabled:bg-sky-900 disabled:cursor-not-allowed",onClick:n,disabled:s===u.r.Loading,children:[(0,r.jsx)(h,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"text-sm",children:"Load More"})]})]})}},3875:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var r=s(5893),a=s(9008),l=s.n(a),n=s(876),i=s(9868);function o(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l(),{children:[(0,r.jsx)("title",{children:"Home - The Movie Database (TMDB)"}),(0,r.jsx)("meta",{name:"description",content:"Homepage of The Movie Database (TMDB)"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsx)(n.Z,{children:(0,r.jsx)(i.default,{})})]})}},9868:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return n}});var r=s(5893),a=s(3748),l=s(4750);function n(){let[e,t,s]=(0,a.v)(),[n,i,o,c]=(0,a.A)();return(0,r.jsxs)("div",{className:"w-full flex flex-col gap-8",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-6 bg-sky-100 px-4 md:px-16 py-8 dark:bg-sky-900 dark:text-white",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Now Playing"}),(0,r.jsx)(l.Z,{data:e,status:t,error:s,isLoadMoreNeeded:!1,onLoadMore:()=>{}})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-6 px-4 md:px-16 py-8 bg-white dark:bg-sky-950 dark:text-white",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Popular"}),(0,r.jsx)(l.Z,{data:n,status:i,error:o,isLoadMoreNeeded:!0,onLoadMore:c})]})]})}}},function(e){e.O(0,[66,675,664,413,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);