(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[413],{2882:function(e,t,r){"use strict";r.d(t,{O5:function(){return l},Qz:function(){return d},SO:function(){return h},uX:function(){return u}});var n=r(7066),a=r(5860),s=r(6984),o=r(403),i=r(1955);let c="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjYzc3ZjMzNmY4NTlkYzM0ZGRiOWRhYzFmODc4ODJiMSIsIm5iZiI6MTcyOTA1MzU5My4yMzI1NjIsInN1YiI6IjY1NjdkYmE3MTI3Nzc4MDBhZDVmNTljNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.9vUNrlSEbJeeEHHEl9R6ylxjO_5fiG0_w25w7ZgNX3M",l=async()=>{try{let e=await n.Z.get("".concat(a.P.CREATE_GUEST_SESSION),{headers:{Authorization:"Bearer ".concat(c)}});if(e.data.success)return i.Z.set("tmdb_session_id",(0,o.HI)(e.data.guest_session_id)),i.Z.set("tmdb_user_type","guest"),e.data;return null}catch(e){return n.Z.isAxiosError(e)&&e.response?console.error(e.response.data.status_message):console.error("An unknown error occurred"),null}},u=async(e,t)=>{let r={account:null,sessionId:"",status:s.r.Loading,error:null};try{let l=(await n.Z.get(a.P.CREATE_REQUEST_TOKEN,{headers:{Authorization:"Bearer ".concat(c)}})).data.request_token;await n.Z.post(a.P.VALIDATE_REQUEST_TOKEN,{username:e,password:t,request_token:l},{headers:{Authorization:"Bearer ".concat(c)}});let u=(await n.Z.post(a.P.CREATE_SESSION,{request_token:l},{headers:{Authorization:"Bearer ".concat(c)}})).data.session_id,d=await n.Z.get(a.P.GET_ACCOUNT,{params:{session_id:u},headers:{Authorization:"Bearer ".concat(c)}}),h=d.data.id,m=d.data.name,f=d.data.avatar;r.account={avatar:f,id:h,name:m,username:e},r.sessionId=u,r.status=s.r.Success,i.Z.set("tmdb_session_id",(0,o.HI)(u)),i.Z.set("tmdb_user_type","user"),i.Z.set("tmdb_account_id",h.toString())}catch(e){r.status=s.r.Error,n.Z.isAxiosError(e)&&e.response?r.error=e.response.data.status_message:r.error="An unknown error occurred"}return r},d=()=>{i.Z.remove("tmdb_session_id"),i.Z.remove("tmdb_user_type"),i.Z.remove("tmdb_account_id")},h=async()=>{console.log((0,o.pe)(i.Z.get("tmdb_session_id")||""));try{let e=await n.Z.delete(a.P.DELETE_SESSION,{data:{session_id:(0,o.pe)(i.Z.get("tmdb_session_id")||"")},headers:{Authorization:"Bearer ".concat(c)}});return d(),e.data}catch(e){return n.Z.isAxiosError(e)&&e.response?console.error(e.response.data.status_message):console.error("An unknown error occurred"),null}}},876:function(e,t,r){"use strict";r.d(t,{Z:function(){return _}});var n=r(5893),a=r(1410),s=r.n(a),o=r(2882),i=r(7294);let c=i.forwardRef(function({title:e,titleId:t,...r},n){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",d:"M14 4.75A2.75 2.75 0 0 0 11.25 2h-3A2.75 2.75 0 0 0 5.5 4.75v.5a.75.75 0 0 0 1.5 0v-.5c0-.69.56-1.25 1.25-1.25h3c.69 0 1.25.56 1.25 1.25v6.5c0 .69-.56 1.25-1.25 1.25h-3c-.69 0-1.25-.56-1.25-1.25v-.5a.75.75 0 0 0-1.5 0v.5A2.75 2.75 0 0 0 8.25 14h3A2.75 2.75 0 0 0 14 11.25v-6.5Zm-9.47.47a.75.75 0 0 0-1.06 0L1.22 7.47a.75.75 0 0 0 0 1.06l2.25 2.25a.75.75 0 1 0 1.06-1.06l-.97-.97h7.19a.75.75 0 0 0 0-1.5H3.56l.97-.97a.75.75 0 0 0 0-1.06Z",clipRule:"evenodd"}))}),l=i.forwardRef(function({title:e,titleId:t,...r},n){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?i.createElement("title",{id:t},e):null,i.createElement("path",{d:"M11.25 2A2.75 2.75 0 0 1 14 4.75v6.5A2.75 2.75 0 0 1 11.25 14h-3a2.75 2.75 0 0 1-2.75-2.75v-.5a.75.75 0 0 1 1.5 0v.5c0 .69.56 1.25 1.25 1.25h3c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25h-3C7.56 3.5 7 4.06 7 4.75v.5a.75.75 0 0 1-1.5 0v-.5A2.75 2.75 0 0 1 8.25 2h3Z"}),i.createElement("path",{d:"M7.97 6.28a.75.75 0 0 1 1.06-1.06l2.25 2.25a.75.75 0 0 1 0 1.06l-2.25 2.25a.75.75 0 1 1-1.06-1.06l.97-.97H1.75a.75.75 0 0 1 0-1.5h7.19l-.97-.97Z"}))}),u=i.forwardRef(function({title:e,titleId:t,...r},n){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?i.createElement("title",{id:t},e):null,i.createElement("path",{d:"M8 1a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5A.75.75 0 0 1 8 1ZM10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM12.95 4.11a.75.75 0 1 0-1.06-1.06l-1.062 1.06a.75.75 0 0 0 1.061 1.062l1.06-1.061ZM15 8a.75.75 0 0 1-.75.75h-1.5a.75.75 0 0 1 0-1.5h1.5A.75.75 0 0 1 15 8ZM11.89 12.95a.75.75 0 0 0 1.06-1.06l-1.06-1.062a.75.75 0 0 0-1.062 1.061l1.061 1.06ZM8 12a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5A.75.75 0 0 1 8 12ZM5.172 11.89a.75.75 0 0 0-1.061-1.062L3.05 11.89a.75.75 0 1 0 1.06 1.06l1.06-1.06ZM4 8a.75.75 0 0 1-.75.75h-1.5a.75.75 0 0 1 0-1.5h1.5A.75.75 0 0 1 4 8ZM4.11 5.172A.75.75 0 0 0 5.173 4.11L4.11 3.05a.75.75 0 1 0-1.06 1.06l1.06 1.06Z"}))}),d=i.forwardRef(function({title:e,titleId:t,...r},n){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?i.createElement("title",{id:t},e):null,i.createElement("path",{d:"M14.438 10.148c.19-.425-.321-.787-.748-.601A5.5 5.5 0 0 1 6.453 2.31c.186-.427-.176-.938-.6-.748a6.501 6.501 0 1 0 8.585 8.586Z"}))});var h=r(1664),m=r.n(h),f=r(1955),p=r(1163),v=r.n(p);function g(){let[e,t]=(0,i.useState)(()=>"dark"===localStorage.getItem("theme")),[r,a]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=f.Z.get("tmdb_session_id");a(null!=e&&""!=e)},[]),(0,i.useEffect)(()=>{e?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[e]);let s=async()=>{if(r){if("user"==f.Z.get("tmdb_user_type")){let e=await (0,o.SO)();e&&e.success&&v().reload()}else(0,o.Qz)(),v().reload()}};return(0,n.jsxs)("nav",{className:"w-full bg-sky-950 flex justify-between py-4 md:px-16 px-4",children:[(0,n.jsx)("div",{className:"flex gap-10 items-center",children:(0,n.jsx)(m(),{href:"/",className:"text-lg font-medium text-white",children:"TheMovieDB"})}),(0,n.jsxs)("div",{className:"flex items-center",children:[r?(0,n.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,n.jsx)(m(),{href:"/profile",className:"text-xs px-4 py-2 rounded-full text-white hover:bg-sky-900 transition duration-150",children:f.Z.get("tmdb_name")}),(0,n.jsxs)("button",{type:"button",onClick:s,className:"flex gap-2 items-center text-xs px-4 py-2 rounded-full text-white bg-red-500 hover:bg-red-600 transition duration-150",children:[(0,n.jsx)(c,{className:"w-4 h-4"}),(0,n.jsx)("span",{children:"Sign out"})]})]}):(0,n.jsxs)(m(),{href:"/login",className:"flex gap-2 items-center text-xs px-4 py-2 rounded-full bg-sky-50 hover:bg-sky-100 transition duration-150",children:[(0,n.jsx)(l,{className:"w-4 h-4"}),(0,n.jsx)("span",{children:"Sign in"})]}),(0,n.jsx)("button",{onClick:()=>{t(!e)},className:"ml-4 p-2 bg-sky-900 text-sky-200 rounded-full hover:bg-sky-800 transition-colors duration-300",children:e?(0,n.jsx)(u,{className:"h-4 w-4"}):(0,n.jsx)(d,{className:"h-4 w-4"})})]})]})}function E(){return(0,n.jsxs)("div",{className:"bg-sky-950 text-white flex justify-between items-center px-16 py-8",children:[(0,n.jsx)("h1",{className:"text-2xl",children:"TheMovieDB"}),(0,n.jsx)("p",{className:"text-sm",children:"\xa9 2024 Novandi Ramadhan. All rights reserved."})]})}function _(e){let{children:t}=e;return(0,n.jsxs)("div",{className:"".concat(s().className," flex flex-col h-screen w-full justify-between bg-white dark:bg-sky-950 text-sky-950"),children:[(0,n.jsx)(g,{}),(0,n.jsx)("main",{className:"w-full mb-auto bg-white dark:bg-sky-950",children:t}),(0,n.jsx)(E,{})]})}},5860:function(e,t,r){"use strict";r.d(t,{P:function(){return n}});let n={NOW_PLAYING:"https://api.themoviedb.org/3/movie/now_playing",POPULAR:"https://api.themoviedb.org/3/movie/popular",ADD_FAVORITE:e=>"https://api.themoviedb.org/3/account/".concat(e,"/favorite"),FAVORITE_MOVIES:e=>"https://api.themoviedb.org/3/account/".concat(e,"/favorite/movies"),DELETE_FAVORITE:(e,t)=>"https://api.themoviedb.org/3/account/".concat(e,"/favorite/").concat(t),CREATE_GUEST_SESSION:"https://api.themoviedb.org/3/authentication/guest_session/new",CREATE_REQUEST_TOKEN:"https://api.themoviedb.org/3/authentication/token/new",VALIDATE_REQUEST_TOKEN:"https://api.themoviedb.org/3/authentication/token/validate_with_login",AUTHENTICATE_USER:e=>"https://www.themoviedb.org/authenticate/".concat(e),CREATE_SESSION:"https://api.themoviedb.org/3/authentication/session/new",DELETE_SESSION:"https://api.themoviedb.org/3/authentication/session",GET_ACCOUNT:"https://api.themoviedb.org/3/account",GET_MOVIE_DETAIL:e=>"https://api.themoviedb.org/3/movie/".concat(e)}},6984:function(e,t,r){"use strict";var n,a;r.d(t,{r:function(){return n}}),(a=n||(n={}))[a.Idle=0]="Idle",a[a.Loading=1]="Loading",a[a.Success=2]="Success",a[a.Error=3]="Error"},403:function(e,t,r){"use strict";r.d(t,{HI:function(){return s},p6:function(){return a},pe:function(){return o}});var n=r(1876).Buffer;let a=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),s=e=>n.from(e).toString("base64"),o=e=>n.from(e,"base64").toString("utf-8")},1410:function(e){e.exports={style:{fontFamily:"'__Poppins_cd6858', '__Poppins_Fallback_cd6858'",fontStyle:"normal"},className:"__className_cd6858"}},9008:function(e,t,r){e.exports=r(494)},1163:function(e,t,r){e.exports=r(7253)},1955:function(e,t,r){"use strict";function n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}r.d(t,{Z:function(){return a}});var a=function e(t,r){function a(e,a,s){if("undefined"!=typeof document){"number"==typeof(s=n({},r,s)).expires&&(s.expires=new Date(Date.now()+864e5*s.expires)),s.expires&&(s.expires=s.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var i in s)s[i]&&(o+="; "+i,!0!==s[i]&&(o+="="+s[i].split(";")[0]));return document.cookie=e+"="+t.write(a,e)+o}}return Object.create({set:a,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],n={},a=0;a<r.length;a++){var s=r[a].split("="),o=s.slice(1).join("=");try{var i=decodeURIComponent(s[0]);if(n[i]=t.read(o,i),e===i)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){a(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}}]);